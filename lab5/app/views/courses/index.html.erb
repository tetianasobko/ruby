<p style="color: green"><%= notice %></p>

<% content_for :title, "Courses" %>

<div class="row mb-4">
  <div class="col">
    <h1>Courses</h1>
  </div>
  <div class="col text-end">
    <%= link_to new_course_path, class: "btn btn-primary" do %>
      <i class="bi bi-plus-circle"></i> New Course
    <% end %>
  </div>
</div>

<div class="row">
  <% @courses.each do |course| %>
    <div class="col-md-4 mb-4">
      <div class="card h-100">
        <div class="card-body">
          <h5 class="card-title"><%= course.title %></h5>
          <p class="card-text">
            <strong><%= pluralize(course.teachers.count, 'teacher') %></strong> â€¢
            <strong><%= pluralize(course.topics.count, 'topic') %></strong>
          </p>
        </div>
        <div class="card-footer bg-transparent">
          <div class="btn-group w-100">
            <%= link_to course, class: "btn btn-outline-primary" do %>
              <i class="bi bi-eye"></i> View
            <% end %>
            <%= link_to edit_course_path(course), class: "btn btn-outline-secondary" do %>
              <i class="bi bi-pencil"></i> Edit
            <% end %>
            <%= button_to course, method: :delete, class: "btn btn-outline-danger", form: { data: { turbo_confirm: "Are you sure you want to delete this course?" } } do %>
              <i class="bi bi-trash"></i> Delete
            <% end %>
          </div>
        </div>
      </div>
    </div>
  <% end %>
</div>

<% if @courses.empty? %>
  <div class="alert alert-info">
    <p class="mb-0 text-center">
      No courses found. <%= link_to "Create your first course", new_course_path %>.
    </p>
  </div>
<% end %>
